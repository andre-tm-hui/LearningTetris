from utils import *
from heuristics import *

board = [
	[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,1,0,0],
	[0,0,0,1,0,0,0,1,0,0],
	[0,0,0,1,0,0,0,1,0,0],
	[0,0,1,1,0,0,0,1,0,0],
	[0,0,1,1,0,0,0,1,1,1],
	[0,1,1,1,0,0,1,1,0,1],
	[0,0,1,1,0,0,1,1,0,1],
	[0,0,0,1,0,1,1,1,0,1],
	[0,0,0,1,1,1,0,1,0,1],
	[0,0,1,1,1,1,0,1,1,1],
	[0,0,1,0,1,1,1,1,0,1],
	[0,0,1,1,1,1,1,1,0,1],
	[0,0,0,0,1,0,1,1,0,1],
	[0,0,0,0,1,0,1,1,0,1],
	[0,0,0,0,1,1,1,1,1,1],
	[0,0,0,1,1,0,1,1,0,1],
	[1,1,1,1,0,0,1,1,0,1],
	[1,0,0,1,1,0,1,1,1,1],
	[1,0,0,0,1,1,0,0,1,1]]

piece = piece_data['Sh']
placements = generate_placements('Sh', board, 3)
print(placements)

#print(closed_hole(board, get_column_heights(board), [0,19]))
#print(score_holes(board, get_column_heights(board)))
#print(score(board, get_column_heights(board), 0, 18))

print(reachable([1,18], piece, board, 3))

Zh = {
	'rel': [[-1,0], [0,0], [0,-1], [1,-1]],
	'rotations': ['Zv'],
	'p_offset': 1,
	'h_offset': 0,
	'id': 2,
	'orientation': 0,
}

pos = [7,15]

board = [[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0],
	[0,0,0,0,0,0,0,0,0,0],
	[1,0,0,0,1,0,0,0,1,1],
	[1,0,1,1,1,1,1,0,0,1],
	[1,1,1,1,1,1,1,1,0,1],
	[1,1,1,1,1,0,1,1,1,1],
	[1,1,1,0,1,1,1,1,1,1]]

print(valid_position(pos, Zh['rel'], board))
print(find_path(pos, Zh, board, get_column_heights(board), 3))
print(get_column_heights(board))